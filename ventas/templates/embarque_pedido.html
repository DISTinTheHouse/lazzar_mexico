{% extends 'layouts/layout.html' %}
{% block title %}
    {{title}}
{% endblock %}
{% block content %}

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SP1MJ3P87D"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SP1MJ3P87D');
</script>

<h1 class="text-center display-1 fw-bold title" style="background-color: #2586a6; color: #f8f7f6; font-weight: bold; text-shadow: 3px 3px 4px rgba(0, 0, 0, 0.7); padding: 5px;">Embarque</h1>
<p class="display-4 text-left fw-bold text-center title subtitulos" style="color: #a71930; font-weight: bold; text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.3); padding: 15px; background: linear-gradient(to bottom, #2586a6, #f8f7f6);">Por Pedido</p>

<main class="container-fluid mt-1">
  <style>
    .icon-above-text {
      align-items: center; 
      text-align: center; 
    }
  
    .icon-above-text .material-icons {
      margin-bottom: 1px; 
    }
    .btn{
      display: flex;
      align-items: center;
    }
    .material-icons-round{
      margin-right: 5px;
    }
  </style>
<div class="row justify-content-center"> <!-- Se reemplaza box-->
<div class="col-md-4 col-lg-4 mt-3 text-center" style="border:solid 9px #E6B0AA; padding: 15px; border-radius: 30px; box-shadow:0 10px 20px rgba(0, 0, 0, 0.5);">
  
  <form action="{% url 'embarque_pedido' %}" method="POST" class="card card-body text-center mt-5" style="border:solid 6px #EAECEE; border-radius: 30px; margin-bottom: 25px;">
    {% csrf_token %}
    
    <label for="pedido" style="color: #808B96;">Número de Pedido:</label>
    <input type="text" name="pedido" style="border:solid 3px #ABB2B9; padding: 5px; border-radius: 15px; color: #E6B0AA;"/>
  
    <hr>
  
    <button type="submit button" class="btn btn-danger pd-3 justify-content-center" style="border-radius: 15px; box-shadow: 0 5px 5px rgba(0, 0, 0, 0.2);">
      <span class="material-symbols-rounded">manage_search</span>
      BUSCAR
    </button>
  </form>
  
</div>
</div>

</main>

<div class="table-responsive">
  {% if leyenda %}
    <table class="table table-striped table-hover table-danger table-responsive table-borderless mt-5 mb-5" style="border:solid 10px #a71930; box-shadow: 0 10px 10px rgba(0, 0, 0, 0.3);">
      <thead class="table-danger">
        <tr>
            <th class="text-center" style="font-weight: bold;">PEDIDO</th>
            <th class="text-center" style="font-weight: bold;">FECHA</th>
            <th class="text-center" style="font-weight: bold;">NOMBRE DEL CLIENTE</th>
            <th class="text-center" style="font-weight: bold;">FACTURA</th>
            <th class="text-center" style="font-weight: bold;">IMPORTE</th>
            <th class="text-center" style="font-weight: bold;">PAQUETERIA</th>
            <th class="text-center" style="font-weight: bold;">GUIAS</th>
            <th class="text-center" style="font-weight: bold;">VENDEDOR</th>
            <th class="text-center" style="font-weight: bold;">PIEZAS</th>
        </tr>
      </thead>
      <tbody>
        {% for fila in resultado %}
        <tr>
            <td class="text-center" style="font-weight: bold;">{{ fila.0 }}</td>
            <td class="text-center">{{ fila.1|date:"d/m/y" }}</td>
            <td class="text-center">{{ fila.2 }}</td>
            <td class="text-center" >{{ fila.3 }}</td>
            <td class="text-center" style="font-style: italic;">{{ fila.4 }}</td>
            <td class="text-center" style="font-weight: bold;">{{ fila.5 }}</td>
            <td class="text-center" style="font-weight: bold;">{{ fila.6 }}</td>
            <td class="text-center">{{ fila.7 }}</td>
            <td class="text-center" style="font-weight: bold;">{{ fila.8 }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
$('#datatable-search-input').on('input', function() {
  var searchText = $(this).val().toLowerCase();
  $('#datatable tbody tr').each(function() {
    var rowText = $(this).text().toLowerCase();
    if (rowText.indexOf(searchText) === -1) {
      $(this).hide();
    } else {
      $(this).show();
    }
  });
});
});
</script>
<footer class=" text-center mt-4" style="background-color: #f2f2f2;">
  <div class="row">

    <section style="padding: 23px;" class="titulos">
      © 2023 Copyright:
      <a style="color: #B7950B; text-decoration:underline;" href="https://www.lazzarmexico.com/" class="titulos">Lazzarmexico.com</a>
      
    </section>

  <div class="text-center titulos p-4 larger-text" style="background-color: rgba(11, 34, 101); font-size: 18px; background: linear-gradient(to top, #0B2265, #2586a6);">
      <p style="color: azure;">
          Respeto, Honestidad, Confianza, Responsabilidad, Lealtad
      </p>
  </div>
</footer>
{% endif %}
{% endblock %}